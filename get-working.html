<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dragonfly Inn - Focus</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="./css/style.css" />
   <link rel="icon" href="./assets/images/icon_updated-removebg-preview.png">
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Playfair+Display&display=swap"
      rel="stylesheet"
    />
    <style>
      @font-face {
        font-family: "MyFont";
        src: url("../assets/fonts/frenchcroissantdemo-eaven.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      .myfont {
      font-family: "MyFont", sans-serif;
      }
  
      </style>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
      }

      /* base float */
      .cup {
        filter: drop-shadow(0 0 0 transparent);
      }

      /* hover: scale + glow while float continues */
      .cup:hover {
        scale: 1.15; /* modern shorthand */
        filter: drop-shadow(0 0 16px rgba(255, 255, 255, 0.8));
      }
    </style>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['"Playfair Display"', "serif"],
              title: ['"DM Serif Display"', "serif"],
            },
            boxShadow: {
              dream: "0 4px 20px rgba(0, 0, 0, 0.25)",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: 0, transform: "translateY(20px)" },
                "100%": { opacity: 1, transform: "translateY(0)" },
              },
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-8px)" },
              },
              glow: {
                "0%, 100%": { opacity: 0.2 },
                "50%": { opacity: 0.7 },
              },
            },
            animation: {
              fadeIn: "fadeIn 1s ease-in-out",
              float: "float 3s ease-in-out infinite",
              glow: "glow 2s ease-in-out infinite",
            },
          },
        },
      };
    </script>

    <style>
      /* Soft scrollbar inside napkin */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb {
        background: rgba(60, 100, 60, 0.4);
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: rgba(60, 100, 60, 0.6);
      }
    </style>
  </head>

  <body
    class="min-h-screen bg-[url('./assets/images/Untitled_design.png')] bg-cover bg-fixed bg-center text-gray-800 flex flex-col items-center py-12 px-4"
  >
    <img
      src="./assets/images/cup_crop.png"
      alt="Cup"
      id="cup"
      class="cup w-24 h-24 fixed right-12 top-12 z-10 transform transition-all duration-500 hover:animate-float cursor-pointer"
    />

    <!-- Audio element -->
    <audio
      id="chime-sound"
      src="./assets/images/sounds/Wind Chimes.mp3"
      preload="auto"
    ></audio>
    <audio id="bgMusic" src="./assets/audios/honey_tea_lemon.mp3" loop></audio>
    <main class="flex justify-center w-full h-full animate-fadeIn relative">

      <!-- Napkin container -->
      <div
        class="w-[75%] h-[80vh] rounded-3xl px-8 py-10 relative z-10 flex bg-transparent"
      >
        <!-- Sidebar Navigation -->
        <aside class="ml-52 mt-2 border-green-800 rounded-l-2xl">
          <nav class="text-left mt-16">
            <img
              src="./assets/images/tamannapfp-removebg-preview.png"
              alt="seal"
              class="w-32 h-32 object-cover mb-6 transition-transform duration-300"
            />

            <ul class="space-y-6 text-lg  text-gray-700">
              <li>
                <a
                  href="index.html"
                  class="hover:text-green-700 transition-colors"
                  >Home</a
                >
              </li>
              <li>
                <a href="get-working.html" class="text-green-700 font-semibold">
                  Workaholic</a
                >
              </li>
              <li>
                <a
                  href="book-nook.html"
                  class="hover:text-green-700 transition-colors"
                  >Book nook</a
                >
              </li>
              <li>
                <a
                  href="creator.html"
                  class="hover:text-green-700 transition-colors"
                  >Creator</a
                >
              </li>
              <li>
                <a
                  href="guest-book.html"
                  class="hover:text-green-700 transition-colors"
                  >Guest book</a
                >
              </li>
              <li>
                <a
                  href="cattos.html"
                  class="hover:text-green-700 transition-colors"
                  >Cattos &lt;3</a
                >
              </li>
            </ul>
          </nav>
        </aside>

        <!-- Scrollable Content -->
        <section
          class="w-3/4 h-full overflow-y-auto pl-6 pr-4 text-center font-serif mr-12 mt-12"
        >
        <style>
              section::-webkit-scrollbar { display: none; }
        </style>
          <h1
            class="text-5xl myfont mt-2 mb-6 text-[#6B4600] drop-shadow-md animate-fadeIn animate-float"
          >
             Focus 
          </h1>
          <p class="text-[#966200] italic font-semibold text-center mb-4 max-w-xl mx-auto leading-relaxed">
            Pomodoro Timer & To-Do List &lt;3
          </p>

          <!-- Focus Timer Card -->
          <div class="bg-[linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)),url('./assets/images/pomo2.jpeg')] bg-cover bg-center border shadow-dream rounded-2xl p-8 max-w-md mx-auto animate-fadeIn">
            <h2 id="timer" class="text-6xl  font-serif text-white mb-6">
              25:00
            </h2>
            <div class="space-x-3">
              <button
              id="reset-btn"
              class="bg-white/30 backdrop-blur-sm text-white px-6 py-2 rounded-lg hover:bg-white/15 transition duration-300"
            >
              Reset
            </button>

              <button
                id="start-btn"
                class="bg-white/30 backdrop-blur-sm text-white px-6 py-2 rounded-lg hover:bg-white/15 transition duration-300"
              >
                Start
              </button>
              <button
                id="pause-btn"
                class="bg-white/30 backdrop-blur-sm text-white px-6 py-2 rounded-lg hover:bg-white/15 transition duration-300"
              >
                Pause
              </button>
            </div>
          </div>
          <p class="text-[#422A00] italic text-center mb-10 mt-4 max-w-xl mx-auto leading-relaxed">
            Let's get things done, focus and keep track of your things using the To-do list!
          </p>
          
          
          <!-- To-Do List Section -->
          <div class="bg-white/20 backdrop-blur-md shadow-dream rounded-2xl p-6 mt-10 max-w-md mx-auto text-white">
            <h2 class="text-2xl text-black/80 font-semibold mb-4">To-Do List ðŸª¶</h2>
            <div class="flex mb-4">
              <input
                id="task-input"
                type="text"
                placeholder="Add a new task..."
                class="flex-grow px-3 text-black py-2 rounded-l-lg bg-white/20 placeholder-black/60 outline-none"
              />
              <button
                id="add-task-btn"
                class="bg-white/30 hover:bg-white/15 transition text-black/60 px-4 py-2 rounded-r-lg"
              >
                Add
              </button>
            </div>
            <ul id="task-list" class="space-y-2 max-h-60 overflow-y-auto"></ul>
          </div>
          <br>

          <!-- Extra filler (for scroll test) -->
        </section>
      </div>
    </main>

    <script>
      let timerInterval;
      let totalSeconds = 25 * 60;
      let remainingSeconds = totalSeconds;
      let isRunning = false;

      const timerDisplay = document.getElementById("timer");
      const startBtn = document.getElementById("start-btn");
      const pauseBtn = document.getElementById("pause-btn");
      const resetBtn = document.getElementById("reset-btn");

      function updateDisplay() {
        const minutes = String(Math.floor(remainingSeconds / 60)).padStart(
          2,
          "0"
        );
        const seconds = String(remainingSeconds % 60).padStart(2, "0");
        timerDisplay.textContent = `${minutes}:${seconds}`;
      }

      function startTimer() {
        if (isRunning) return;
        isRunning = true;
        timerInterval = setInterval(() => {
          if (remainingSeconds > 0) {
            remainingSeconds--;
            updateDisplay();
          } else {
            clearInterval(timerInterval);
            isRunning = false;
          }
        }, 1000);
      }

      function pauseTimer() {
        clearInterval(timerInterval);
        isRunning = false;
      }

      function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        remainingSeconds = totalSeconds;
        updateDisplay();
      }

      startBtn.addEventListener("click", startTimer);
      pauseBtn.addEventListener("click", pauseTimer);
      resetBtn.addEventListener("click", resetTimer);

      // Initialize display
      updateDisplay();
    </script>
    <script>
      const music = document.getElementById("bgMusic");
      const profileImage = document.getElementById("profileImage");
      let isPlaying = true;

      // Restore playback position + state when page loads
      window.addEventListener("load", () => {
        const lastTime = localStorage.getItem("musicTime");
        const isPaused = localStorage.getItem("musicPaused") === "true";

        if (lastTime) {
          music.currentTime = parseFloat(lastTime);
        }

        const playPromise = music.play();
        if (playPromise !== undefined) {
          playPromise.catch(() => {
            console.warn("Autoplay might be blocked until user interacts.");
          });
        }

        if (isPaused) {
          music.pause();
          isPlaying = false;
        }
      });

      // Save current position + state before leaving page
      window.addEventListener("beforeunload", () => {
        localStorage.setItem("musicTime", music.currentTime);
        localStorage.setItem("musicPaused", music.paused);
      });

      // Toggle on click
      profileImage.addEventListener("click", () => {
        if (isPlaying) {
          music.pause();
          profileImage.classList.remove("playing");
        } else {
          music.play();
          profileImage.classList.add("playing");
        }
        isPlaying = !isPlaying;
      });
    </script>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cup = document.getElementById("cup");
      const chime = document.getElementById("chime-sound");

      // Allow browser to unlock audio playback
      document.body.addEventListener(
        "click",
        () => {
          chime.play();
          chime.pause();
        },
        { once: true }
      );

      // Play sound when mouse enters
      cup.addEventListener("mouseenter", () => {
        chime.currentTime = 0;
        chime.play();
      });

      // Stop sound when mouse leaves
      cup.addEventListener("mouseleave", () => {
        chime.pause();
        chime.currentTime = 0; // rewind to start
      });
    });
  </script>
  <script>
    const taskInput = document.getElementById("task-input");
    const addTaskBtn = document.getElementById("add-task-btn");
    const taskList = document.getElementById("task-list");
  
    // Load saved tasks
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    renderTasks();
  
    // Add new task
    addTaskBtn.addEventListener("click", addTask);
    taskInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") addTask();
    });
  
    function addTask() {
      const text = taskInput.value.trim();
      if (text === "") return;
      const task = { id: Date.now(), text, completed: false };
      tasks.push(task);
      saveTasks();
      renderTasks();
      taskInput.value = "";
    }
  
    // Toggle complete or delete
    function renderTasks() {
      taskList.innerHTML = "";
      tasks.forEach((task) => {
        const li = document.createElement("li");
        li.className =
          "flex justify-between items-center bg-white/20 px-4 py-2 rounded-lg transition text-black";
  
        const span = document.createElement("span");
        span.textContent = task.text;
        span.className = `flex-1 cursor-pointer transition ${
          task.completed ? "line-through opacity-60" : ""
        }`;
        span.addEventListener("click", () => toggleTask(task.id));
  
        const delBtn = document.createElement("button");
        delBtn.innerHTML = "âœ–";
        delBtn.className =
          "text-black/30 hover:text-red-400 transition ml-3";
        delBtn.addEventListener("click", () => deleteTask(task.id));
  
        li.appendChild(span);
        li.appendChild(delBtn);
        taskList.appendChild(li);
      });
    }
  
    function toggleTask(id) {
      tasks = tasks.map((t) =>
        t.id === id ? { ...t, completed: !t.completed } : t
      );
      saveTasks();
      renderTasks();
    }
  
    function deleteTask(id) {
      tasks = tasks.filter((t) => t.id !== id);
      saveTasks();
      renderTasks();
    }
  
    function saveTasks() {
      localStorage.setItem("tasks", JSON.stringify(tasks));
    }
  </script>
  
</html>
