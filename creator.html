<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dragonfly Inn - creator</title>
    <link rel="icon" href="./assets/images/icon_updated-removebg-preview.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <style>
      @font-face {
        font-family: "MyFont";
        src: url("../assets/fonts/frenchcroissantdemo-eaven.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      .myfont {
      font-family: "MyFont", sans-serif;
      }
  
      </style>
    <style>
    @keyframes floatScale {
  0%, 100% {
    transform: scale(1.15) translateY(0);
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
  }
  50% {
    transform: scale(1.15) translateY(-10px);
    filter: drop-shadow(0 0 16px rgba(255, 255, 255, 0.8));
  }
}
  .cup {  
    filter: drop-shadow(0 0 0 transparent); /* no glow initially */
  }


  .cup:hover {
    animation: floatScale 3s ease-in-out infinite;
    transition: transform 0.3s ease, filter 0.3s ease;
    cursor: pointer;
  }
  </style>
    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
      }
      .float {
        animation: float 3s ease-in-out infinite;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 1.5s ease-in-out;
      }

      textarea {
        background-color: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(6px);
        resize: none;
      }

      /* ðŸŒ¿ Soft custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb {
        background: rgba(60, 100, 60, 0.4);
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: rgba(60, 100, 60, 0.6);
      }
    </style>
  </head>

  <body
    class="min-h-screen bg-[url('./assets/images/Untitled_design.png')] bg-cover bg-fixed bg-center text-gray-800 flex flex-col items-center py-12 px-4"
  >
    <img src="./assets/images/cup_crop.png" 
     alt="Cup"
     id="cup"
     class="cup w-24 h-24 fixed right-12 top-12 z-10 transform transition-all duration-500 hover:animate-float cursor-pointer" />

    <!-- Audio element -->
    <audio id="chime-sound" src="./assets/images/sounds/Wind Chimes.mp3" preload="auto"></audio>
    <audio id="bgMusic" src="./assets/audios/honey_tea_lemon.mp3" loop></audio>
    <main
      class="flex justify-center w-[70%] h-[80vh] flex overflow-hidden fade-in mt-8"
    >
      <!-- napkin area -->
      <div class="w-[68%] rounded-3xl flex overflow-hidden">
        <!-- sidebar (fixed inside napkin) -->
        <aside class=" ml-8 mt-4  border-green-800  rounded-l-2xl ">
          <nav class="text-left">
            <img src="./assets/images/tamannapfp-removebg-preview.png" alt="seal"
              class="w-32 h-32 object-cover mb-6 transition-transform duration-300 " />

            <ul class="space-y-6 text-lg  text-gray-700 ">
              <li><a href="index.html" class="hover:text-green-700 transition-colors">Home</a></li>
              <li><a href="get-working.html" class="hover:text-green-700 transition-colors "> Workaholic</a></li>
              <li><a href="book-nook.html" class="hover:text-green-700 transition-colors">Book nook</a></li>
              <li><a href="creator.html" class="text-green-700 font-semibold">Creator</a></li>
              <li><a href="guest-book.html" class="hover:text-green-700 transition-colors">Guest book</a></li>
              <li><a href="cattos.html" class="hover:text-green-700 transition-colors">Cattos &lt;3 </a></li>
            </ul>
          </nav>
        </aside>

        <!-- scrollable content -->
        <section
          class="w-3/4 h-[90%] ml-11 overflow-y-auto px-10 py-8 text-center font-serif"
        >
        <style>
              section::-webkit-scrollbar { display: none; }
        </style>
          <!-- START: Creator's Corner â€” Articles by the Author (replace the current inside of the scrollable <section>) -->
          <h1 class="myfont mb-4 float text-[#6B4600] text-5xl">Creatorâ€™s Corner ðŸ’…</h1>
          <p class="mb-4 text-base italic">A cozy space where ideas bloom and imagination dances ðŸŒ¿</p>

          <div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
            <div class="flex items-center gap-3">
              <input id="search-input" type="search" placeholder="Search titles..." class="px-3 py-2 rounded-md text-sm shadow-sm bg-white/60 backdrop-blur-sm focus:outline-none" />
              <select id="tag-filter" class="px-3 py-2 rounded-md text-sm shadow-sm bg-white/60 backdrop-blur-sm">
                <option value="">All tags</option>
              </select>
            </div>

            <div class="text-sm text-gray-600">
              <span id="saved-count">0</span> saved â€¢ <button id="clear-saved" class="underline text-xs">Clear saved</button>
            </div>
          </div>

          <!-- Articles list -->
          <div id="articles-list" class="space-y-4 mb-8">
            <!-- JS will render article cards here -->
          </div>

          <!-- Template fallback when no articles -->
          <div id="no-results" class="hidden text-center text-gray-500">
            No articles found. Try a different search or tag.
          </div>

          <!-- Example data + scripts -->
          <script>
          (function () {
            // ===== Example articles (edit or load from backend) =====
            const ARTICLES = [
              {
                id: "a1",
                title: "The Quiet Joy of Small Narratives",
                date: "2025-04-10",
                tags: ["essays", "writing"],
                readTime: "6 min",
                excerpt: "Short stories and micro-essays hold a gentle power â€” they demand attention and reward quietly. Hereâ€™s why small narratives matter.",
                body: "<p>Small narratives are compact forces. They let the reader rest in a single mood and can be reread easily. In this piece I explore why tiny stories stick with us...</p>"
              },
              {
                id: "a2",
                title: "Tea, Memory, and the Library at Dusk",
                date: "2025-03-02",
                tags: ["personal", "memoir"],
                readTime: "4 min",
                excerpt: "A short piece on the smell of old paper, the comfort of tea, and the library window that taught me patience.",
                body: "<p>When the light falls just right on the reading desk I memorised how silence looks. This is about learning to pause...</p>"
              },
              {
                id: "a3",
                title: "A Beginnerâ€™s Guide to Loving Essays",
                date: "2025-02-14",
                tags: ["howto", "reading"],
                readTime: "5 min",
                excerpt: "Not sure where to start with essays? Here's a tiny guide to help you fall in love with them (spoiler: it begins with curiosity).",
                body: "<p>Essays are the friendliest gate to ideas. Start with short ones, read aloud, mark a paragraph that stops you â€” little rituals build the habit...</p>"
              }
              // add more items as needed
            ];

            // ===== localStorage keys =====
            const STORAGE_KEY = 'creatorBookmarks_v1';

            // ===== Cache DOM refs =====
            const elList = document.getElementById('articles-list');
            const elSearch = document.getElementById('search-input');
            const elTag = document.getElementById('tag-filter');
            const elNo = document.getElementById('no-results');
            const elSavedCount = document.getElementById('saved-count');
            const elClearSaved = document.getElementById('clear-saved');

            // ===== Helpers =====
            function loadSaved() {
              try {
                const raw = localStorage.getItem(STORAGE_KEY);
                return raw ? new Set(JSON.parse(raw)) : new Set();
              } catch (e) {
                return new Set();
              }
            }
            function saveSaved(set) {
              localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(set)));
            }
            function escapeHtml(s) {
              return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]);
            }

            // populate tag filter
            function populateTags() {
              const tags = new Set();
              ARTICLES.forEach(a => (a.tags || []).forEach(t => tags.add(t)));
              // clear existing except default
              elTag.innerHTML = '<option value="">All tags</option>';
              Array.from(tags).sort().forEach(tag => {
                const opt = document.createElement('option');
                opt.value = tag;
                opt.textContent = tag;
                elTag.appendChild(opt);
              });
            }

            // render list based on search + filter
            function renderList() {
              const q = elSearch.value.trim().toLowerCase();
              const tag = elTag.value;
              const saved = loadSaved();

              const filtered = ARTICLES.filter(a => {
                const okSearch = q === '' || a.title.toLowerCase().includes(q);
                const okTag = tag === '' || (a.tags || []).includes(tag);
                return okSearch && okTag;
              });

              elList.innerHTML = '';
              if (filtered.length === 0) {
                elNo.classList.remove('hidden');
                elList.classList.add('hidden');
              } else {
                elNo.classList.add('hidden');
                elList.classList.remove('hidden');

                filtered.forEach(a => {
                  const card = document.createElement('article');
                  card.className = 'bg-white/65 backdrop-blur-sm rounded-2xl p-4 shadow-md text-left';

                  card.innerHTML = `
                    <div class="flex items-start justify-between gap-4">
                      <div class="flex-1">
                        <div class="flex items-baseline gap-3">
                          <h3 class="text-xl font-semibold">${escapeHtml(a.title)}</h3>
                          <span class="text-xs text-gray-500">${escapeHtml(a.date)} â€¢ ${escapeHtml(a.readTime)}</span>
                        </div>
                        <div class="mt-2 text-sm text-gray-700 italic">${escapeHtml(a.excerpt)}</div>

                        <div class="mt-3 text-xs text-gray-600 flex flex-wrap gap-2">
                          ${(a.tags || []).map(t => `<span class="px-2 py-1 rounded-full bg-white/30 text-xs">${escapeHtml(t)}</span>`).join('')}
                        </div>
                      </div>

                      <div class="flex flex-col items-end gap-2">
                        <button class="bookmark-btn px-2 py-1 rounded-md text-sm" data-id="${escapeHtml(a.id)}" aria-pressed="false" title="Save for later">
                          â™¡ Save
                        </button>
                        <button class="readmore-btn text-xs underline" data-id="${escapeHtml(a.id)}">Read more</button>
                      </div>
                    </div>

                    <div class="article-body mt-3 text-sm text-gray-800 hidden"></div>
                  `;

                  // body injection safe-ish (we keep body as small HTML in data â€” user can sanitize backend)
                  const bodyEl = card.querySelector('.article-body');
                  bodyEl.innerHTML = a.body || `<p>${escapeHtml(a.excerpt)}</p>`;

                  elList.appendChild(card);

                  // wire buttons
                  const bmBtn = card.querySelector('.bookmark-btn');
                  const rmBtn = card.querySelector('.readmore-btn');

                  // set initial bookmark UI
                  if (saved.has(a.id)) {
                    bmBtn.classList.add('bg-emerald-100', 'text-emerald-700');
                    bmBtn.textContent = 'â™¥ Saved';
                    bmBtn.setAttribute('aria-pressed', 'true');
                  } else {
                    bmBtn.classList.remove('bg-emerald-100', 'text-emerald-700');
                    bmBtn.textContent = 'â™¡ Save';
                    bmBtn.setAttribute('aria-pressed', 'false');
                  }

                  bmBtn.addEventListener('click', () => {
                    const s = loadSaved();
                    if (s.has(a.id)) {
                      s.delete(a.id);
                      bmBtn.classList.remove('bg-emerald-100', 'text-emerald-700');
                      bmBtn.textContent = 'â™¡ Save';
                      bmBtn.setAttribute('aria-pressed', 'false');
                    } else {
                      s.add(a.id);
                      bmBtn.classList.add('bg-emerald-100', 'text-emerald-700');
                      bmBtn.textContent = 'â™¥ Saved';
                      bmBtn.setAttribute('aria-pressed', 'true');
                    }
                    saveSaved(s);
                    updateSavedCount();
                  });

                  rmBtn.addEventListener('click', () => {
                    // toggle expand/collapse
                    if (bodyEl.classList.contains('hidden')) {
                      bodyEl.classList.remove('hidden');
                      rmBtn.textContent = 'Show less';
                    } else {
                      bodyEl.classList.add('hidden');
                      rmBtn.textContent = 'Read more';
                      // scroll into view nicely (optional)
                      card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }
                  });
                });
              }

              updateSavedCount();
            }

            function updateSavedCount() {
              const s = loadSaved();
              elSavedCount.textContent = s.size;
            }

            // Clear saved
            elClearSaved.addEventListener('click', (e) => {
              e.preventDefault();
              if (!confirm('Clear all saved articles?')) return;
              localStorage.removeItem(STORAGE_KEY);
              renderList();
            });

            // Wire search + filter
            elSearch.addEventListener('input', () => renderList());
            elTag.addEventListener('change', () => renderList());

            // init
            populateTags();
            renderList();
          })();
          </script>
          <!-- END: Creator's Corner â€” Articles by the Author -->

        </section>
      </div>
    </main>
    <script>
  const music = document.getElementById('bgMusic');
  const profileImage = document.getElementById('profileImage');
  let isPlaying = true;

  // Restore playback position + state when page loads
  window.addEventListener('load', () => {
    const lastTime = localStorage.getItem('musicTime');
    const isPaused = localStorage.getItem('musicPaused') === 'true';

    if (lastTime) {
      music.currentTime = parseFloat(lastTime);
    }

    const playPromise = music.play();
    if (playPromise !== undefined) {
      playPromise.catch(() => {
        console.warn("Autoplay might be blocked until user interacts.");
      });
    }

    if (isPaused) {
      music.pause();
      isPlaying = false;
    }
  });

  // Save current position + state before leaving page
  window.addEventListener('beforeunload', () => {
    localStorage.setItem('musicTime', music.currentTime);
    localStorage.setItem('musicPaused', music.paused);
  });

  // Toggle on click
  profileImage.addEventListener('click', () => {
    if (isPlaying) {
      music.pause();
      profileImage.classList.remove('playing');
    } else {
      music.play();
      profileImage.classList.add('playing');
    }
    isPlaying = !isPlaying;
  });
</script>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cup = document.getElementById('cup');
      const chime = document.getElementById('chime-sound');

      // Allow browser to unlock audio playback
      document.body.addEventListener('click', () => {
        chime.play();
        chime.pause();
      }, { once: true });

      // Play sound when mouse enters
      cup.addEventListener('mouseenter', () => {
        chime.currentTime = 0;
        chime.play();
      });

      // Stop sound when mouse leaves
      cup.addEventListener('mouseleave', () => {
        chime.pause();
        chime.currentTime = 0; // rewind to start
      });
    });
  </script>
</html>
