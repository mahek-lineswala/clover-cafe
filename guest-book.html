<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dragonfly Inn ‚Äî Guest Book</title>
    <link rel="icon" href="./assets/images/icon_updated-removebg-preview.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <style>
      @font-face {
        font-family: "MyFont";
        src: url("../assets/fonts/frenchcroissantdemo-eaven.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      .myfont {
      font-family: "MyFont", sans-serif;
      }
  
      </style>
   <style>
    
    @keyframes floatScale {
  0%, 100% {
    transform: scale(1.15) translateY(0);
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
  }
  50% {
    transform: scale(1.15) translateY(-10px);
    filter: drop-shadow(0 0 16px rgba(255, 255, 255, 0.8));
  }
}
  .cup {  
    filter: drop-shadow(0 0 0 transparent); /* no glow initially */
  }


  .cup:hover {
    animation: floatScale 3s ease-in-out infinite;
    transition: transform 0.3s ease, filter 0.3s ease;
    cursor: pointer;
  }
  </style>

    <style>
      html,
      body {
        height: 100%;
        overflow: hidden; /* Prevent page scroll */
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
      }
      .float {
        animation: float 3s ease-in-out infinite;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 1.2s ease-in-out;
      }

      .glass {
        background-color: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(8px);
      }
    </style>
  </head>

  <body
    class="h-screen bg-[url('./assets/images/Untitled_design.png')] bg-cover bg-center text-gray-800 flex flex-col items-center px-4 py-8 overflow-hidden"
  >
   <img src="./assets/images/cup_crop.png" 
     alt="Cup"
     id="cup"
     class="cup w-24 h-24 fixed right-12 top-12 z-10 transform transition-all duration-500 hover:animate-float cursor-pointer" />

<!-- Audio element -->
<audio id="chime-sound" src="./assets/images/sounds/Wind Chimes.mp3" preload="auto"></audio>

    <main class="flex justify-center w-full h-full ">
      <div
        class="px-16 py-16 w-3/4 rounded-lg shadow-3xl fade-in flex items-stretch"
      >
        <div class="flex justify-center  mr-42 mb-8  w-full">
          <!-- Sidebar -->
           <aside class=" ml-44 mb-2  border-green-800  rounded-l-2xl ">
          <nav class="text-left mt-16">
            <img src="./assets/images/tamannapfp-removebg-preview.png" alt="seal"
              class="w-32 h-32 object-cover mb-6 transition-transform duration-300 " />

            <ul class="space-y-6 text-lg text-gray-700 ">
              <li><a href="index.html" class="hover:text-green-700 transition-colors">Home</a></li>
              <li><a href="get-working.html" class="hover:text-green-700 transition-colors "> Workaholic</a></li>
              <li><a href="book-nook.html" class="hover:text-green-700 transition-colors">Book nook</a></li>
              <li><a href="creator.html" class="hover:text-green-700 transition-colors">Creator</a></li>
              <li><a href="guest-book.html" class="text-green-700 font-semibold">Guest book</a></li>
              <li><a href="cattos.html" class="hover:text-green-700 transition-colors">Cattos &lt;3</a></li>
            </ul>
          </nav>
        </aside>

          <!-- Main content -->
          <div
            class="w-[70%] h-full ml-10 overflow-y-auto pl-6 pr-4 text-center font-serif"
            style="scrollbar-width: none; -ms-overflow-style: none"
          >
            <style>
              /* Hide scrollbar for Chrome, Safari and Opera */
              .w-\[70\%\]::-webkit-scrollbar {
                display: none;
              }
            </style>
            <h1 class="text-center text-5xl myfont  mt-10 mb-4 float text-[#6B4600] drop-shadow-md">
              Guest Book
            </h1>
            <p class="text-center mb-8 text-base sm:text-lg italic">
              Leave a little magic before you go üçÉ
            </p>

            <div class="border-t border-gray-400 my-6"></div>

            <!-- Guest form -->
            <section class="text-center mb-12">
              <h2 class="text-2xl font-serif mb-4">üå∑ Leave Your Message</h2>
              <form id="guestForm" class="flex flex-col items-center space-y-3">
                <input
                  type="text"
                  id="guestName"
                  placeholder="Your name or nickname"
                  class="w-full p-2 rounded-md border border-gray-300 font-serif glass text-gray-800"
                  required
                />
                <textarea
                  id="guestMessage"
                  rows="4"
                  placeholder="Write a little message here..."
                  class="w-full p-3 rounded-md border border-gray-300 font-serif glass text-gray-800 resize-none"
                  required
                ></textarea>
                <button
                  type="submit"
                  class="px-4 py-2 bg-green-200 hover:bg-green-300 transition rounded-lg font-serif shadow"
                >
                  send love ‚úø
                </button>
              </form>
              <p id="guestSaved" class="mt-3 text-sm text-gray-600 hidden">
                your message has been pinned üå∏
              </p>
            </section>

            <div class="border-t border-gray-400 my-6"></div>

            <!-- Guest messages -->
            <section>
              <h2 class="text-2xl font-serif text-center mb-4">
                üíå From Our Lovely Visitors
              </h2>
              <div
                id="guestList"
                class="space-y-4 max-h-80 overflow-y-auto pr-2"
              >
                <!-- Guest entries will appear here -->
              </div>
            </section>

            <div class="border-t border-gray-400 my-6"></div>
          </div>
        </div>
      </div>
    </main>

    <script>
      const form = document.getElementById("guestForm");
      const guestList = document.getElementById("guestList");
      const savedMsg = document.getElementById("guestSaved");

      function loadMessages() {
        const saved = JSON.parse(localStorage.getItem("cloverGuests")) || [];
        guestList.innerHTML = "";
        saved.forEach((g) => {
          const div = document.createElement("div");
          div.classList.add("glass", "p-3", "rounded-lg", "shadow", "fade-in");
          div.innerHTML = `<p class="font-serif text-gray-700">‚Äú${g.message}‚Äù</p><p class="text-sm text-right italic text-gray-600 mt-1">‚Äì ${g.name}</p>`;
          guestList.prepend(div);
        });
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const name =
          document.getElementById("guestName").value.trim() || "Anonymous";
        const message = document.getElementById("guestMessage").value.trim();
        if (!message) return;

        const newGuest = { name, message };
        const existing = JSON.parse(localStorage.getItem("cloverGuests")) || [];
        existing.push(newGuest);
        localStorage.setItem("cloverGuests", JSON.stringify(existing));

        form.reset();
        savedMsg.classList.remove("hidden");
        loadMessages();
        setTimeout(() => savedMsg.classList.add("hidden"), 2000);
      });

      window.addEventListener("load", loadMessages);
    </script>
    <script>
  const music = document.getElementById('bgMusic');
  const profileImage = document.getElementById('profileImage');
  let isPlaying = true;

  // Restore playback position + state when page loads
  window.addEventListener('load', () => {
    const lastTime = localStorage.getItem('musicTime');
    const isPaused = localStorage.getItem('musicPaused') === 'true';

    if (lastTime) {
      music.currentTime = parseFloat(lastTime);
    }

    const playPromise = music.play();
    if (playPromise !== undefined) {
      playPromise.catch(() => {
        console.warn("Autoplay might be blocked until user interacts.");
      });
    }

    if (isPaused) {
      music.pause();
      isPlaying = false;
    }
  });

  // Save current position + state before leaving page
  window.addEventListener('beforeunload', () => {
    localStorage.setItem('musicTime', music.currentTime);
    localStorage.setItem('musicPaused', music.paused);
  });

  // Toggle on click
  profileImage.addEventListener('click', () => {
    if (isPlaying) {
      music.pause();
      profileImage.classList.remove('playing');
    } else {
      music.play();
      profileImage.classList.add('playing');
    }
    isPlaying = !isPlaying;
  });
</script>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cup = document.getElementById('cup');
      const chime = document.getElementById('chime-sound');

      // Allow browser to unlock audio playback
      document.body.addEventListener('click', () => {
        chime.play();
        chime.pause();
      }, { once: true });

      // Play sound when mouse enters
      cup.addEventListener('mouseenter', () => {
        chime.currentTime = 0;
        chime.play();
      });

      // Stop sound when mouse leaves
      cup.addEventListener('mouseleave', () => {
        chime.pause();
        chime.currentTime = 0; // rewind to start
      });
    });
  </script>
</html>
